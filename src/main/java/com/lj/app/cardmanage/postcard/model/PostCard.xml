<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
"http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="postCard">
<typeAlias alias="postCard" type="com.lj.app.cardmanage.postcard.model.PostCard" />

	<resultMap id="postCardResult" class="postCard">       
	   <result property="id" column="ID"/>      
	   <result property="postCardNo" column="POSTCARDNO"/>     
       <result property="manName" column="MANNAME"/>      
       <result property="rate" column="RATE"/>
       <result property="minMoney" column="MINMONEY"/>
       <result property="maxMoney" column="MAXMONEY"/>
       <result property="trade" column="TRADE"/>
       <result property="bindBank" column="BINDBANK"/>
       <result property="cardNo" column="CARDNO"/>
       <result property="userName" column="USERNAME"/>
	
   </resultMap>
   
	<select id="select"  resultMap="postCardResult">
		SELECT ID,POSTCARDNO,MANNAME,RATE,MINMONEY,MAXMONEY,TRADE,BINDBANK,CARDNO,USERNAME FROM POSTCARD
	</select>
	
	<select id="getInfoByKey" parameterClass="int" resultMap="postCardResult">
			SELECT ID,POSTCARDNO,MANNAME,RATE,MINMONEY,MAXMONEY,TRADE,BINDBANK,CARDNO,USERNAME FROM POSTCARD
		WHERE id=#id:NUMBER#
	</select>
	
	<select id="pagenate" resultMap="postCardResult">
		SELECT ID,POSTCARDNO,MANNAME,RATE,MINMONEY,MAXMONEY,TRADE,BINDBANK,CARDNO,USERNAME FROM POSTCARD t
		<dynamic prepend="WHERE">
		  	<isNotEmpty prepend="AND" property="postCardNo"> t.postCardNo = #postCardNo#</isNotEmpty>
			 <isNotEmpty prepend="AND" property="manName"> t.manName = #manName#</isNotEmpty>
			 <isNotEmpty prepend="AND" property="cardNo"> t.cardNo = #cardNo#</isNotEmpty>
			 <isNotEmpty prepend="AND" property="bindBank"> t.bindBank = #bindBank#</isNotEmpty>
			 <isNotEmpty prepend="AND" property="cardNo"> t.cardNo = #cardNo#</isNotEmpty>
			 <isNotEmpty prepend="AND" property="userName"> t.userName = #userName#</isNotEmpty>
		</dynamic>
	</select>
	
	
	 <select id="pagenate_count" resultClass="long">
				SELECT count(1) FROM POSTCARD t
  		<dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="postCardNo"> t.postCardNo = #postCardNo#</isNotEmpty>
			 <isNotEmpty prepend="AND" property="manName"> t.manName = #manName#</isNotEmpty>
			 <isNotEmpty prepend="AND" property="cardNo"> t.cardNo = #cardNo#</isNotEmpty>
			 <isNotEmpty prepend="AND" property="bindBank"> t.bindBank = #bindBank#</isNotEmpty>
			 <isNotEmpty prepend="AND" property="cardNo"> t.cardNo = #cardNo#</isNotEmpty>
			 <isNotEmpty prepend="AND" property="userName"> t.userName = #userName#</isNotEmpty>
		</dynamic>
	</select>
	
	<insert id="insert" parameterClass="postCard" >
			INSERT INTO postCard(POSTCARDNO,MANNAME,RATE,MINMONEY,MAXMONEY,TRADE,BINDBANK,CARDNO,USERNAME)
						VALUES(#postCardNo:VARCHAR#,
						#manName:VARCHAR#,
						#rate:NUMBER#,
						#minMoney:NUMBER#,
						#maxMoney:NUMBER#,
						#trade:VARCHAR#,
						#bindBank:VARCHAR#,
						#cardNo:VARCHAR#,
						#userName:VARCHAR#
						)
						
	</insert>
	
	<update id="update" parameterClass="postCard" >
			UPDATE  postCard t 
			SET t.postCardNo = #postCardNo:VARCHAR#, 
			t.manName=#manName:VARCHAR#,
			t.rate=#rate:NUMBER#,
			t.minMoney=#minMoney:NUMBER#,
			t.maxMoney =#maxMoney:NUMBER#,
		    t.trade=#trade:VARCHAR#, 
			t.bindBank=#bindBank:VARCHAR#, 
			t.cardNo=#cardNo:VARCHAR#, 
			t.userName=#userName:VARCHAR# 
	 WHERE id=#id#
	</update>
	
	<delete id="delete" parameterClass="int">
		DELETE FROM   postCard WHERE id=#id#
	</delete>
	
</sqlMap>